<template name="dashboardsAppview">
  {{> pageHeading title='Dashboards' category='AppView' }}
  <div class="wrapper wrapper-content animated fadeIn">
    <div class="row">
      {{#each allApplications}}
        {{> applicationList}}
      {{/each}}
    </div>
  </div>
</template>

<template name="applicationList">
  <div class="col-lg-12">
    <div class="ibox float-e-margins">
      <div class="ibox-title">
        <h5>Application {{name}} <small class="m-l-sm">blah blah blah</small></h5>
        {{>iboxTools}}
      </div>
      <div class="ibox-content">
        Wideip/Application URL: <a href="/gtm/wideips/{{_id}}">{{name}}</a>
        <ul>
          {{#each pools}}
            {{> appGPoolList}}
          {{/each}}
        </ul>
      </div>
      <div class="ibox-footer">
        <span class="pull-right">
          The righ side of the footer
        </span>
        This is simple footer example
      </div>
    </div>
  </div>
</template>

<template name="appGPoolList">
  <li>GTM Pool: --> <a href="/gtm/pools/{{pool_id}}">{{name}}</a></li>
  {{#each members}}
    {{> gtmPMembers}}
  {{/each}}
</template>

<template name="gtmPMembers">
  <li>GTM Pool Member (VIP): ---> <a href="/gtm/pmembers/{{pmember_id}}">{{fullPath}}</a></li>
  <li>App IP: {{getDest fullPath}}</li>
  <ul>
  {{#each ltmVips fullPath}}
    {{> vipList}}
  {{/each}}
  </ul>
</template>

<template name="vipList">
  <li><img src="/{{statusImg}}"><a href="/ltm/virtuals/{{_id}}">{{name}}</a> - {{destination}}</li>
  <ul>
    <li>Profiles:
      {{#if profileList}}
      <ul>
        {{#each profileList}}
          <li><a href="/ltm/profiles/{{profile_id}}">{{fullPath}}</a> </li>
        {{/each}}
      </ul>
      {{else}}
        none
      {{/if}}
    </li>
    <li>Pools:
      {{#if pool}}
      <ul>
        {{#with getPool onDevice pool}}
          <li> {{> poolDisplay}} </li>
        {{/with}}
      </ul>
      {{else}}
        None
      {{/if}}
    </li>
  </ul>
</template>

<template name="poolDisplay">
  <img src="/{{statusImg}}"><a href="/ltm/pools/{{_id}}">{{name}}</a>
  <ul>
    {{> member}}
  </ul>
</template>

<template name="member">
  {{#each members}}
    {{> memberList}}
  {{/each}}
</template>

<template name="memberList">
  <li><img src="/{{statusImg}}">{{name}}</li>
</template>


<template name="dashboardsAdcthroughput">
  {{> pageHeading title='Dashboards' category='ADC Stats' }}
  <div class="wrapper wrapper-content animated fadeIn">
    <div class="row">
      <div class="col-lg-12">
        <div class="ibox float-e-margins">
          <div class="ibox-title">
            <h5>Network Throughput {{name}} <small class="m-l-sm">All of your devices</small></h5>
            {{>iboxTools}}
          </div>
          <div class="ibox-content">
            <canvas id="adcChart" height="300"></canvas>
          </div>
          <div class="ibox-footer">
            <span class="pull-right">
              The righ side of the footer
            </span>
            This is simple footer example
          </div>
        </div>
      </div>
      {{#each getSyncgroups}}
          {{> syncGroupList}}
      {{/each}}
    </div>
  </div>
</template>

<template name="syncGroupList">
  <div class="col-lg-12">
    <div class="ibox float-e-margins">
      <div class="ibox-title">
        <h5>Sync Group: <a href="/gtm/syncgroups/{{_id}}">{{synchronizationGroupName}}</a> <small class="m-l-sm">A set of GTMs</small></h5>
        {{>iboxTools}}
        <div class="ibox-content">
          {{#each getDatacenters _id}}
          <li>{{> datacenterList}}</li>
          {{/each}}
        </div>
        <div class="ibox-footer">
          <span class="pull-right">
            The righ side of the footer
          </span>
          This is simple footer example
        </div>
      </div>
    </div>
  </div>
</template>

<template name="datacenterList">
  <img src="/{{statusImg}}"><a href="/gtm/datacenters/{{_id}}">{{name}}</a>
  Bits/Sec in: {{stats.bpsIn}} - Bits/Sec out: {{stats.bpsOut}} - Connections: {{stats.connections}}
  <br>
  <ul>
    {{#each getServers fullPath}}
      <li>{{> serverList}}</li>
    {{/each}}
  </ul>
</template>

<template name="serverList">
  <img src="/{{statusImg}}"><a href="/gtm/servers/{{_id}}">{{name}}</a>
  Bits/Sec in: {{stats.bpsIn}} - Bits/Sec out: {{stats.bpsOut}} - Connections: {{stats.connections}}
  <ul>
    {{#each getVservers _id}}
      <li>{{> vserverList}}</li>
    {{/each}}
  </ul>
</template>

<template name="vserverList">
  <img src="/{{statusImg}}"><a href="/gtm/vservers/{{_id}}">{{name}}</a> -
  Bits/Sec in: {{stats.bpsIn}} - Bits/Sec out: {{stats.bpsOut}} - Connections: {{stats.connections}}
  <br>
</template>

<template name="dashboardsIhealth">
  {{> pageHeading title='iHealth Details' category='iHealth' }}
  <div class="wrapper wrapper-content animated fadeIn">
    <div class="row">
      <form class="virtualForm">
        <div class="col-lg-12">
          <div class="ibox float-e-margins">
            <div class="ibox-title">
              <h5>iHealth QKviews <small class="m-l-sm">Manage your System Health</small></h5>
              {{>iboxTools}}
            </div>
            <div class="ibox-content">
              <button class="ihealth" id="ihealth" disabled={{buttonStateDisabled}}>Refresh iHealth</button>
              <ul>
                {{#each getIhealth}}
                  <li><a href="/dashboards/ihealth/{{_id}}">{{this.system_information.hostname}}</a></li>
                {{/each}}
              </ul>
            </div>
            <div class="ibox-footer">
              <span class="pull-right">
                The righ side of the footer
              </span>
              <a href="/gtm/pools/create">Create New</a>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</template>

<template name="dashboardsIhealthDetails">
  {{> pageHeading title='Details for {{system_information.hostname}}' category='iHealth' }}
  <div class="wrapper wrapper-content animated fadeIn">
    <div class="row">
      <form class="virtualForm">
        <div class="col-lg-12">
          <div class="ibox float-e-margins">
            <div class="ibox-title">
              <h5>iHealth information <small class="m-l-sm">Details for your BIG-IP</small></h5>
              {{>iboxTools}}
            </div>
            <div class="ibox-content">
              <ul>
                <li>Generated on {{generation_date}}</li>
                <li>Support Entitlement Expires on {{entitlement.expiration_date}} ({{entitlement.days_left}} days left)</li>
                <li>Chassis Serial: {{chassis_serial}}</li>
                <li>Running Version: {{version.version}}</li>
                <li>System Chassis ID: {{system_information.bigip_chassis_serial_num}}</li>
                <li>Platform Type: {{platform}}</li>
                <li>Uploaded on: {{upload.date}}</li>
                <li>{{> displayDiagnostics diagnostics}}</li>
              </ul>
            </div>
            <div class="ibox-footer">
              <span class="pull-right">
                The righ side of the footer
              </span>
              <a href="/gtm/pools/create">Create New</a>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</template>

<template name="displayDiagnostics">
   Diagnostics Found: {{hit_count}}
  <ul>
    {{#each diagnostic}}
    <ul>
      <li>{{this.name}} - {{this.run_data.h_importance}}</li>
      <ul>
        <li>{{this.results.h_header}}</li>
        <li>{{this.results.h_summary}}</li>
      </ul>
    </ul>
    {{/each}}
  </ul>
</template>
